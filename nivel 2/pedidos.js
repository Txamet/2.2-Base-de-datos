db.createCollection('pedidos', {validator: {$jsonSchema: {bsonType: 'object',title: 'pedidos',required: ['fecha_hora_pedido','tipo_entrega','productos','precio_total','nota','cliente','tienda'],properties:{fecha_hora_pedido:{bsonType: 'timestamp'},tipo_entrega:{enum: },productos:{bsonType: 'array',items:{title: 'object',required: ['id_producto','nombre','cantidad','precio_total'],properties:{id_producto:{bsonType: 'int'},nombre:{bsonType: 'string'},cantidad:{bsonType: 'int'},precio_total:{bsonType: 'double'}}}},precio_total:{bsonType: 'double'},nota:{bsonType: 'string'},repartidor:{bsonType: 'string'},fecha_hora_entrega:{bsonType: 'timestamp'},cliente:{bsonType: 'object',title: 'object',required: ['id_cliente','nombre'],properties:{id_cliente:{bsonType: 'int'},nombre:{bsonType: 'string'},calle:{bsonType: 'string'},numero:{bsonType: 'string'},piso:{bsonType: 'string'},puerta:{bsonType: 'string'},telefono:{bsonType: 'int'},nota:{bsonType: 'string'}}},tienda:{bsonType: 'object',title: 'object',required: ['id_tienda','direccion','codigo_postal','localidad','provincia'],properties:{id_tienda:{bsonType: 'int'},direccion:{bsonType: 'string'},codigo_postal:{bsonType: 'int'},localidad:{bsonType: 'string'},provincia:{bsonType: 'string'}}}}}}});