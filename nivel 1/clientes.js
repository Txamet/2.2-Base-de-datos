db.createCollection('clientes', {validator: {$jsonSchema: {bsonType: 'object',title: 'clientes',required: ['nombre','direccion','telefono','email','fecha_alta'],properties:{nombre:{bsonType: 'string'},direccion:{bsonType: 'string'},telefono:{bsonType: 'string'},email:{bsonType: 'string'},fecha_alta:{bsonType: 'date'},cliente_que_recomendo:{bsonType: 'string'},gafas:{bsonType: 'array',items:{title: 'object',required: ['graduacion_vidrio_izquierdo','graduacion_vidrio_derecho','color_vidrio_izquierdo','color_vidrio_derecho','montura','precio'],properties:{graduacion_vidrio_izquierdo:{bsonType: 'decimal'},graduacion_vidrio_derecho:{bsonType: 'decimal'},color_vidrio_izquierdo:{bsonType: 'string'},color_vidrio_derecho:{bsonType: 'string'},montura:{enum: ["flotante", "pasta", "metalica"]},precio:{bsonType: 'int'}}}}}}}});